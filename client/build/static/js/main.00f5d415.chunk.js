(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(14),r=a.n(o),c=(a(36),a(28)),i=a(22),s=(a(74),a(17)),m=a(18),u=a(20),d=a(19),p=a(21);a(75);function f(e){var t,a=e.children;return t="signin"===e.page?"before-signin gradient":"after-signin",l.a.createElement("div",{className:t},a)}function h(e){var t=e.children;return l.a.createElement("div",{className:"navbar gradient"},t)}a(76);function g(e){var t,a=e.children,n=e.location;return"signin"===n?t="modal-content":"profile"===n?t="profile-box box-common":"ngo"===n?t="ngo-box box-common":"employee"===n?t="employee-box box-common":"add"===n&&(t="add-box box-common"),l.a.createElement("div",{className:t},a)}function E(e){return l.a.createElement("div",{className:"box-heading profile-content"},l.a.createElement("div",null,l.a.createElement("img",{className:"img-fluid profile-image",src:e.userPicture,alt:e.userName}),l.a.createElement("h4",null,"@",e.userName)),l.a.createElement("div",{className:"profile-extras"},l.a.createElement("p",null,e.userEmail),l.a.createElement("p",null,"Total Employees: ",e.employee.length),l.a.createElement("p",null,"Total NGOs: ",e.ngo.length)))}function v(e){return l.a.createElement("div",{className:"ngo-content"},l.a.createElement("h2",{className:"box-heading"},"NGO"),l.a.createElement("div",{className:"ngo-content-div"},e.ngo.map(function(e,t){return l.a.createElement("div",{className:"ngo-content-info",key:t},l.a.createElement("h5",{className:"ngo-box-name"},e.name),l.a.createElement("p",{className:"ngo-box-purpose"},e.purpose))})))}function N(e){return l.a.createElement("div",{className:"employee-content"},l.a.createElement("h2",{className:"box-heading"},"Employee"),l.a.createElement("div",{className:"employee-content-div"},e.employee.map(function(t,a){return l.a.createElement("button",{className:"employee-button",key:a,id:t._id,onClick:e.handleShow},l.a.createElement("h5",{id:t._id},t.name),l.a.createElement("p",{id:t._id},"Contributed: $",t.contribution))})))}a(77);function y(e){var t=e.page;return l.a.createElement("div",{className:"".concat(t,"-logo")},"Cool Beans")}a(78);function b(e){return l.a.createElement("a",{href:e.url},l.a.createElement("button",{type:"button",className:"google-button"},l.a.createElement("span",{className:"google-button__icon"},l.a.createElement("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),l.a.createElement("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),l.a.createElement("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),l.a.createElement("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"}))),l.a.createElement("span",{className:"google-button__text"},"Sign in with Google")))}function O(e){return l.a.createElement("div",{className:"nav-button"},e.name)}function w(e){return l.a.createElement("div",{className:"nav-button",onClick:e.handleLogOut},e.name)}a(79);function C(e){return l.a.createElement("div",{className:e.loading?"lds-ellipsis":""},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}var k=a(16),S=a.n(k),x={getURL:function(){return S.a.get("/api/google/signin")},getToken:function(e){return S.a.post("/api/google/token",{code:e})},getUser:function(e){return S.a.get("/api/user/"+e)},createNGO:function(e,t){return S.a.post("/api/ngo/new/"+t,{ngo:e})},getAllNGO:function(){return S.a.get("/api/ngo")},createEmployee:function(e,t){return S.a.post("/api/employee/new/"+t,{employee:e})},updateEmployee:function(e,t){return S.a.put("/api/employee/update/"+t,{employee:e})},updateNGO:function(e,t){return S.a.put("/api/ngo/update/"+t,{total:e})}},G=a(62),j=a.n(G),A=a(12),T=a.n(A),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={url:"",loading:!1},a.getLink=function(){x.getURL().then(function(e){return a.setState({url:e.data.url})}).catch(function(e){return console.log(e)})},a.getToken=function(e){x.getToken(e).then(function(e){a.setState({loading:!0}),setTimeout(function(){return a.props.history.push("/dashboard")},2e3)}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){T.a.get("token")&&T.a.remove("token"),this.getLink();var e=j.a.parse(this.props.location.search);e.code&&this.getToken(e.code)}},{key:"render",value:function(){return l.a.createElement(f,{page:"signin"},l.a.createElement(g,{location:"signin"},l.a.createElement(y,{page:"signin"}),l.a.createElement(b,{url:this.state.url})),l.a.createElement(C,{loading:this.state.loading}))}}]),t}(n.Component),D=(a(108),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleLogOut=function(){T.a.remove("token"),a.setState({id:""}),a.props.props.history.push("/")},a.state={id:T.a.get("token")},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(h,null,l.a.createElement("div",{className:"nav-content d-flex flex-column justify-content-between"},l.a.createElement(y,{page:"homepage"}),l.a.createElement("div",{className:"link-content"},l.a.createElement(c.b,{to:"/dashboard"},l.a.createElement(O,{name:"Dashboard"})),l.a.createElement(c.b,{to:"/addnew"},l.a.createElement(O,{name:"Add New"})))),l.a.createElement(w,{name:"Log Out",handleLogOut:this.handleLogOut}))}}]),t}(l.a.Component));a(114);function L(e){return l.a.createElement("div",{className:"title"},e.title)}function z(e){return l.a.createElement("div",{className:"add-content-button"},l.a.createElement("div",{className:"employee"===e.active?"active-gradient":"inactive-gradient",onClick:function(){return e.handleActiveState("employee")}},"ADD EMPLOYEE"),l.a.createElement("div",{className:"ngo"===e.active?"active-gradient":"inactive-gradient",onClick:function(){return e.handleActiveState("ngo")}},"ADD NGO"))}var P=a(142),R=a(141),U=a(137),_=a(138),I=a(139),M=a(140);a(115);function B(e){return l.a.createElement(P.a,{className:"modal-wrapper",show:e.show,onHide:e.handleClose,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},l.a.createElement(P.a.Header,{closeButton:!0},l.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter",className:"d-flex flex-row align-items-end"},l.a.createElement("div",null,e.modal.employee.name),l.a.createElement("div",null,"-"),l.a.createElement("div",null,e.modal.employee.title))),l.a.createElement(P.a.Body,{className:""},l.a.createElement(R.a,{variant:"dark",size:"sm"},"NGOs Supporting:",l.a.createElement("div",{className:"d-flex flex-row justify-content-between w-100"},e.modal.ngo.map(function(e,t){return l.a.createElement(R.a,{key:t,variant:"success",size:"sm",className:"m-2 text-center"},e.name)}))),l.a.createElement("div",{className:"d-flex flex-row justify-content-around mt-4"},l.a.createElement("div",{className:"d-flex flex-column w-25 mr-2"},l.a.createElement("h5",{className:"d-flex justify-content-center"},"Coffee Menu"),l.a.createElement("div",{className:"d-flex flex-column"},e.coffee.map(function(t,a){return l.a.createElement(U.a,{className:t.qty?"btn-success mt-2":"mt-2",key:a,name:t.name,value:"add",onClick:e.handleOrderAdd},t.name,": $",t.price)}))),l.a.createElement("div",{className:"w-75 ml-2"},l.a.createElement("h5",{className:"d-flex justify-content-center"},"Order"),l.a.createElement(_.a,null,l.a.createElement(I.a,{className:"text-center"},l.a.createElement(M.a,null,"Item"),l.a.createElement(M.a,null,"Qty/Price"),l.a.createElement(M.a,null,"Total"),l.a.createElement(M.a,null,"Remove")),e.coffee.map(function(t,a){if(t.qty)return l.a.createElement(I.a,{key:a,className:"text-center mt-2"},l.a.createElement(M.a,null,t.name),l.a.createElement(M.a,null,t.qty,"x ",t.price),l.a.createElement(M.a,null,t.qty*t.price),l.a.createElement(M.a,null,l.a.createElement(U.a,{name:t.name,size:"sm",value:"remove",onClick:e.handleOrderRemove},"X")))}))))),l.a.createElement(P.a.Footer,{className:"d-flex flex-column w-100"},l.a.createElement("div",{className:"d-flex flex-row justify-content-between w-100"},l.a.createElement(U.a,{size:"lg",onClick:e.handleClose},"Close"),l.a.createElement(R.a,{className:"m-0",variant:"dark",size:"sm"},"Ngo Contribution: $",e.ngoContri),l.a.createElement(R.a,{className:"m-0",variant:"dark",size:"sm"},"Total: $",e.total),l.a.createElement(U.a,{size:"lg",onClick:function(){return e.handleSubmitOrder(e.modal.employee,e.modal.ngo)}},"Order")),l.a.createElement("div",null,l.a.createElement(U.a,{className:"mt-5",size:"lg",variant:"danger"},"Delete Account"))))}var F=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={id:T.a.get("token"),userName:"",userEmail:"",userPicture:"",ngo:[],employee:[],show:!1,modal:{employee:{},ngo:[]},coffee:[{name:"Latte",price:4,qty:0},{name:"Cappuccino",price:4,qty:0},{name:"Mocha",price:4.5,qty:0},{name:"Espresso",price:3,qty:0}],total:0,ngoContri:0},a.getUser=function(e){e?x.getUser(e).then(function(e){a.setState({userName:e.data.firstName,userEmail:e.data.email,userPicture:e.data.picture,ngo:e.data.ngo,employee:e.data.employee})}).catch(function(e){return console.log(e)}):a.props.history.push("/")},a.handleClose=function(){a.setState({show:!1,total:0,ngoContri:0}),a.clearOrder()},a.clearOrder=function(){a.setState(function(e){return e.coffee.map(function(e){return e.qty?e.qty=0:e.qty})})},a.handleShow=function(e){var t=e.target.id,n=a.state.employee.filter(function(e){return e._id===t})[0],l=n.ngo.map(function(e){return a.state.ngo.filter(function(t){return t._id===e})[0]});a.setState({show:!0,modal:{employee:n,ngo:l}})},a.handleOrderAdd=function(e){e.preventDefault();var t=e.target;a.setState(function(e){return e.coffee.map(function(e){return e.name===t.name?(a.updateTotal(e.price,t.value),e.qty++):e.isChecked})})},a.updateTotal=function(e,t){var n=0,l=0;"add"===t?(n=a.state.total+e,l=a.state.ngoContri+.25*e):(n=a.state.total-e,l=a.state.ngoContri-.25*e),a.setState({total:n,ngoContri:l})},a.handleOrderRemove=function(e){e.preventDefault();var t=e.target;a.setState(function(e){return e.coffee.map(function(e){return e.name===t.name?(a.updateTotal(e.price),e.qty--):e.isChecked})})},a.handleSubmitOrder=function(e,t){if(a.state.total){var n={total:a.state.total+e.total,contribution:a.state.ngoContri+e.contribution},l=[];t.map(function(e,n){var o={id:e._id,total:e.total+a.state.ngoContri/t.length};l.push(o)}),a.updateEmployee(n,e._id),a.updateNgo(l),a.handleClose()}},a.updateEmployee=function(e,t){x.updateEmployee(e,t).then(function(e){return a.getUser(a.state.id)}).catch(function(e){return console.log(e)})},a.updateNgo=function(e){e.map(function(e,t){console.log("item.total",e.total),x.updateNGO(e.total,e.id).then(function(e){return a.getUser(a.state.id)}).catch(function(e){return console.log(e)})})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getUser(this.state.id)}},{key:"render",value:function(){return l.a.createElement(f,{page:"dashboard"},l.a.createElement(D,{props:this.props}),l.a.createElement("div",{className:"dashboard-content"},l.a.createElement(L,{title:"Dashboard"}),l.a.createElement("div",{className:"d-flex flex-row justify-content-around"},l.a.createElement("div",{className:"d-flex flex-column justify-content-between"},l.a.createElement(g,{location:"profile"},l.a.createElement(E,{userName:this.state.userName,userPicture:this.state.userPicture,userEmail:this.state.userEmail,employee:this.state.employee,ngo:this.state.ngo})),l.a.createElement(g,{location:"ngo"},l.a.createElement(v,{ngo:this.state.ngo}))),l.a.createElement(g,{location:"employee"},l.a.createElement(N,{employee:this.state.employee,handleShow:this.handleShow})))),l.a.createElement(B,{show:this.state.show,coffee:this.state.coffee,total:this.state.total,ngoContri:this.state.ngoContri,modal:this.state.modal,handleClose:this.handleClose,handleOrderAdd:this.handleOrderAdd,handleOrderRemove:this.handleOrderRemove,handleSubmitOrder:this.handleSubmitOrder}))}}]),t}(n.Component),W=a(68);a(133);function $(e){var t=e.children;return l.a.createElement("form",{className:"add-form"},t)}function H(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-details"},l.a.createElement("div",{className:"form-details-div"},l.a.createElement("label",null,"Enter Name:"),l.a.createElement("input",{value:e.name,name:"ngoName",onChange:function(t){return e.handleInputChange(t)},type:"text",placeholder:"(Required)"})),l.a.createElement("div",{className:"form-details-div add-margin"},l.a.createElement("label",null,"Enter Purpose:"),l.a.createElement("textarea",{value:e.purpose,name:"ngoPurpose",onChange:function(t){return e.handleInputChange(t)},type:"text",placeholder:"(Required)"}))),l.a.createElement("div",{className:"form-details"},l.a.createElement("button",{className:"form-button",onClick:function(t){return e.handleNGOSubmit(t,e)}},"Add NGO"),l.a.createElement("div",{className:"update"},e.update)))}function J(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-details"},l.a.createElement("div",{className:"form-details-div"},l.a.createElement("label",null,"Enter First Name:"),l.a.createElement("input",{value:e.name,name:"employeeName",onChange:function(t){return e.handleInputChange(t)},placeholder:"(Required)"})),l.a.createElement("div",{className:"form-details-div add-margin"},l.a.createElement("label",null,"Enter Job Title:"),l.a.createElement("input",{value:e.title,onChange:function(t){return e.handleInputChange(t)},name:"employeeTitle",placeholder:"(Required)"})),l.a.createElement("div",{className:"form-details-div add-margin"},l.a.createElement("label",null,"NGO to support: "),l.a.createElement("div",{className:"ngo-selection"},e.supports.map(function(t,a){return l.a.createElement(Q,{key:a,name:t.name,isChecked:t.isChecked,handleNGOSelect:e.handleNGOSelect})})))),l.a.createElement("div",{className:"form-details"},l.a.createElement("button",{className:"form-button",onClick:function(t){return e.handleEmployeeSubmit(t)}},"Add Employee"),l.a.createElement("div",{className:"update"},e.update)))}function Q(e){var t=e.isChecked?"select-button":"unselect-button";return l.a.createElement("button",{className:t,value:e.name,onClick:function(t){return e.handleNGOSelect(t,e)}},e.name)}var X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={user:{},id:T.a.get("token"),active:"employee",employeeName:"",employeeTitle:"",employeeNGO:[],ngoName:"",ngoPurpose:"",dbNGO:[],update:""},a.getUser=function(e){e?x.getUser(e).then(function(e){a.setState({user:e.data}),a.getAllNGO()}).catch(function(e){return console.log(e)}):a.props.history.push("/")},a.handleActiveState=function(e){a.setState({active:"ngo"!==e?"employee":"ngo"})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(W.a)({},n,l))},a.handleNGOSubmit=function(e,t){e.preventDefault(),a.setState({ngoName:"",ngoPurpose:""});var n={name:t.name,purpose:t.purpose};a.createNGO(n)},a.createNGO=function(e){x.createNGO(e,a.state.id).then(function(e){a.setState({update:"New NGO Added!!"}),a.getAllNGO()}).catch(function(e){return console.log(e)})},a.getAllNGO=function(){x.getAllNGO().then(function(e){for(var t=[],n=0;n<e.data.length;n++){var l={id:e.data[n]._id,name:e.data[n].name,isChecked:!1};t.push(l)}a.setState({dbNGO:t})}).catch(function(e){return console.log(e)})},a.handleNGOSelect=function(e){e.preventDefault();var t=e.target;a.setState(function(e){return e.dbNGO.map(function(e){return e.name===t.value?(a.setList(e.id,!e.isChecked),e.isChecked=!e.isChecked):e.isChecked})})},a.setList=function(e,t){t?a.setState(function(t){return t.employeeNGO.push(e)}):a.setState(function(t){for(var a=0;a<t.employeeNGO.length;a++)t.employeeNGO[a]===e&&t.employeeNGO.splice(a,1)})},a.handleEmployeeSubmit=function(e){e.preventDefault();var t={name:a.state.employeeName,title:a.state.employeeTitle,ngo:a.state.employeeNGO};a.setState({employeeName:"",employeeTitle:"",employeeNGO:[]}),a.getAllNGO(),a.createEmployee(t)},a.createEmployee=function(e){x.createEmployee(e,a.state.id).then(function(e){return a.setState({update:"New Employee Added!!"})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getUser(this.state.id)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.update&&setTimeout(function(){return e.setState({update:""})},2e3)}},{key:"render",value:function(){return l.a.createElement(f,{page:"dashboard"},l.a.createElement(D,{props:this.props}),l.a.createElement("div",{className:"add-content"},l.a.createElement(L,{title:"Add"}),l.a.createElement("div",{className:"add-content-wrapper"},l.a.createElement(z,{active:this.state.active,handleActiveState:this.handleActiveState}),l.a.createElement(g,{location:"add"},l.a.createElement($,null,"ngo"===this.state.active?l.a.createElement(H,{name:this.state.ngoName,purpose:this.state.ngoPurpose,update:this.state.update,handleInputChange:this.handleInputChange,handleNGOSubmit:this.handleNGOSubmit}):l.a.createElement(J,{name:this.state.employeeName,title:this.state.employeeTitle,supports:this.state.dbNGO,update:this.state.update,handleInputChange:this.handleInputChange,handleEmployeeSubmit:this.handleEmployeeSubmit,handleNGOSelect:this.handleNGOSelect}))))))}}]),t}(n.Component);var Y=function(){return l.a.createElement("div",{className:"jumbotron jumbotron-fluid text-center"},l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))};var K=function(){return l.a.createElement(c.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:q}),l.a.createElement(i.a,{exact:!0,path:"/dashboard",component:F}),l.a.createElement(i.a,{exact:!0,path:"/addnew",component:X}),l.a.createElement(i.a,{component:Y})))},V=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(l.a.createElement(K,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");V?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Z(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Z(e)})}}()},36:function(e,t,a){},69:function(e,t,a){e.exports=a(134)},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.00f5d415.chunk.js.map